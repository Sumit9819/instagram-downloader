{"ast":null,"code":"var _jsxFileName = \"/workspaces/instagram-downloader/frontend/src/components/DownloadForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DownloadForm = () => {\n  _s();\n  const [url, setUrl] = useState('');\n  const [mediaUrls, setMediaUrls] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [selectedFormat, setSelectedFormat] = useState('mp4');\n  const formatOptions = {\n    video: ['mp4', 'webm'],\n    image: ['jpg', 'png', 'webp']\n  };\n  const handleDownload = async () => {\n    if (!url) return;\n    setLoading(true);\n    setProgress(0);\n    try {\n      const response = await axios.post('/api/download', {\n        url,\n        format: selectedFormat\n      }, {\n        onDownloadProgress: progressEvent => {\n          const percentage = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setProgress(percentage);\n        }\n      });\n      setMediaUrls(response.data.mediaUrls);\n      setError('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to fetch media');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto my-8 p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Paste Instagram URL here...\",\n        className: \"flex-1 p-2 border rounded-lg\",\n        value: url,\n        onChange: e => setUrl(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDownload,\n        disabled: loading,\n        className: \"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-400\",\n        children: loading ? 'Processing...' : 'Download'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-200 rounded-full h-2.5 mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-600 h-2.5 rounded-full\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500 mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: mediaUrls.map((media, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedFormat,\n          onChange: e => setSelectedFormat(e.target.value),\n          className: \"p-2 border rounded\",\n          children: formatOptions[media.type].map(format => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: format,\n            children: format.toUpperCase()\n          }, format, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: media.url,\n          download: true,\n          className: \"flex-1 block bg-gray-100 p-2 rounded hover:bg-gray-200\",\n          children: [\"Download \", media.type.toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(DownloadForm, \"85MPv4Wd1uZQZgAFC1lgJC30Ew4=\");\n_c = DownloadForm;\nexport default DownloadForm;\nvar _c;\n$RefreshReg$(_c, \"DownloadForm\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","DownloadForm","_s","url","setUrl","mediaUrls","setMediaUrls","error","setError","loading","setLoading","progress","setProgress","selectedFormat","setSelectedFormat","formatOptions","video","image","handleDownload","response","post","format","onDownloadProgress","progressEvent","percentage","Math","round","loaded","total","data","err","_err$response","_err$response$data","className","children","type","placeholder","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","width","map","media","index","toUpperCase","href","download","_c","$RefreshReg$"],"sources":["/workspaces/instagram-downloader/frontend/src/components/DownloadForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst DownloadForm = () => {\n  const [url, setUrl] = useState('');\n  const [mediaUrls, setMediaUrls] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [selectedFormat, setSelectedFormat] = useState('mp4');\n\n  const formatOptions = {\n    video: ['mp4', 'webm'],\n    image: ['jpg', 'png', 'webp']\n  };\n\n  const handleDownload = async () => {\n    if (!url) return;\n    setLoading(true);\n    setProgress(0);\n    \n    try {\n      const response = await axios.post('/api/download', { \n        url,\n        format: selectedFormat\n      }, {\n        onDownloadProgress: (progressEvent) => {\n          const percentage = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          setProgress(percentage);\n        }\n      });\n      \n      setMediaUrls(response.data.mediaUrls);\n      setError('');\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to fetch media');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto my-8 p-4\">\n      <div className=\"flex gap-2 mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Paste Instagram URL here...\"\n          className=\"flex-1 p-2 border rounded-lg\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n        />\n        <button\n          onClick={handleDownload}\n          disabled={loading}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-400\"\n        >\n          {loading ? 'Processing...' : 'Download'}\n        </button>\n      </div>\n\n      {loading && (\n        <div className=\"w-full bg-gray-200 rounded-full h-2.5 mb-4\">\n          <div \n            className=\"bg-blue-600 h-2.5 rounded-full\"\n            style={{ width: `${progress}%` }}\n          ></div>\n        </div>\n      )}\n\n      {error && <div className=\"text-red-500 mb-4\">{error}</div>}\n\n      <div className=\"space-y-2\">\n        {mediaUrls.map((media, index) => (\n          <div key={index} className=\"flex items-center gap-2\">\n            <select\n              value={selectedFormat}\n              onChange={(e) => setSelectedFormat(e.target.value)}\n              className=\"p-2 border rounded\"\n            >\n              {formatOptions[media.type].map(format => (\n                <option key={format} value={format}>{format.toUpperCase()}</option>\n              ))}\n            </select>\n            <a\n              href={media.url}\n              download\n              className=\"flex-1 block bg-gray-100 p-2 rounded hover:bg-gray-200\"\n            >\n              Download {media.type.toUpperCase()}\n            </a>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default DownloadForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}